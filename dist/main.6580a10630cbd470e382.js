(()=>{"use strict";var e,t={521:(e,t,n)=>{var o=n(370);const r=document.getElementById("datecalc__result"),s=document.getElementById("demo"),l=({hours:e,minutes:t,seconds:n})=>{s.innerHTML=`<span> \n     ${e<10?"0"+e:e} : ${t<10?"0"+t:t} : ${n<10?"0"+n:n}\n     </span>`},c=e=>{s.innerHTML=e};function a(e){var t,n,o;for(n=document.getElementsByClassName("menu_content"),t=0;t<n.length;t++)n[t].style.display="none";for(o=document.getElementsByClassName("menu_links"),t=0;t<o.length;t++)o[t].className=o[t].className.replace(" active","");const r=e.currentTarget.getAttribute("for");document.getElementById(r).style.display="block",e.currentTarget.className+=" active"}const u=()=>{document.getElementById("stop").style.display="none",document.getElementById("reset").style.display="none",document.getElementById("start").style.display="block"};var d=n(766);const m=n.p+"./media/eralash.mp3";function i(e){return{hours:Math.floor(e/3600),minutes:Math.floor(e%3600/60),seconds:Math.floor(e%3600%60)}}function y({hours:e,minutes:t,seconds:n}){document.getElementById("hours").value=e,document.getElementById("minutes").value=t,document.getElementById("seconds").value=n}const f=document.getElementById("hours"),p=document.getElementById("minutes"),g=document.getElementById("seconds"),v=document.getElementById("datecalc"),h=(document.getElementById("timer"),document.querySelectorAll("#menu button"));window.onload=()=>{h.forEach((e=>{e.getAttribute("for"),e.onclick=a})),(()=>{for(let e=0;e<24;e++)f[e]=new Option(`${e}`,e);for(let e=0;e<60;e++)p[e]=new Option(`${e}`,e);for(let e=0;e<60;e++)g[e]=new Option(`${e}`,e)})(),document.querySelector("button[for=datecalc]").click()},v.onsubmit=e=>{e.preventDefault();const t=new FormData(e.target),n=t.get("firstDate"),s=t.get("secondDate");n&&s?(({years:e,months:t,days:n})=>{r.innerHTML=`<span> Осталось:<br>\n    Лет: ${e?+e:"0 "}\n    Месяцев: ${t?+t:"0 "}\n    Дней: ${n?+n:"0 "}\n    </span>`})(function(e,t){let n=o.ou.fromISO(e),r=o.ou.fromISO(t);return n>r&&(r=[n,n=r][0]),r.diff(n,["years","months","days"]).toObject()}(n,s)):("Для расчета промежутка необходимо заполнить оба поля",r.innerHTML='<span style="color: red;">\n                        Для расчета промежутка необходимо заполнить оба поля\n                        </span>\n                    ')},document.getElementById("start").onclick=e=>{e.preventDefault(),function(e,t,n){let o=3600*+e+60*+t+ +n;if(0!==o){document.getElementById("stop").style.display="block",document.getElementById("reset").style.display="block",document.getElementById("start").style.display="none",l({hours:+e,minutes:+t,seconds:+n});var r=setInterval((function(){--o,l(i(o)),0===o&&(clearInterval(r),new d.Howl({src:[m]}).play(),c("Время вышло!"),u())}),1e3);document.getElementById("stop").onclick=e=>{e.preventDefault(),r&&clearInterval(r),y(i(o)),u()},document.getElementById("reset").onclick=e=>{e.preventDefault(),r&&clearInterval(r),o=0,y({hours:0,minutes:0,seconds:0}),c(""),u()}}else c('<span style="color: red;">Установите время!</span>')}(document.getElementById("hours").value,document.getElementById("minutes").value,document.getElementById("seconds").value),y({hours:0,minutes:0,seconds:0})}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,r,s)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,r,s]=e[d],c=!0,a=0;a<n.length;a++)(!1&s||l>=s)&&Object.keys(o.O).every((e=>o.O[e](n[a])))?n.splice(a--,1):(c=!1,s<l&&(l=s));if(c){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,r,s]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.p="",(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,s,[l,c,a]=n,u=0;if(l.some((t=>0!==e[t]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(a)var d=a(o)}for(t&&t(n);u<l.length;u++)s=l[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},n=self.webpackChunkwebproject=self.webpackChunkwebproject||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[766,786,362,165,370],(()=>o(521)));r=o.O(r)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9tYWluLjYzNDYyNmYyZDE1NmM5Y2MwNjYxLmpzIiwibWFwcGluZ3MiOiJ1QkFBSUEsRSw4QkNXSixNQ1hNQyxFQUFTQyxTQUFTQyxlQUFlLG9CQUNqQ0MsRUFBVUYsU0FBU0MsZUFBZSxRQWtCM0JFLEVBQWEsRUFBR0MsUUFBT0MsVUFBU0MsY0FDekNKLEVBQVFLLFVBQVksaUJBQ2pCSCxFQUFRLEdBQUssSUFBTUEsRUFBUUEsT0FBV0MsRUFBVSxHQUFLLElBQU1BLEVBQVVBLE9BQWFDLEVBQVUsR0FBSyxJQUFNQSxFQUFVQSxpQkFBTyxFQUlsSEUsRUFBZUMsSUFDeEJQLEVBQVFLLFVBQVlFLENBQUksRUN4QnJCLFNBQVNDLEVBQVNDLEdBRXJCLElBQUlDLEVBQUdDLEVBQWFDLEVBSXBCLElBREFELEVBQWNiLFNBQVNlLHVCQUF1QixnQkFDekNILEVBQUksRUFBR0EsRUFBSUMsRUFBWUcsT0FBUUosSUFDaENDLEVBQVlELEdBQUdLLE1BQU1DLFFBQVUsT0FLbkMsSUFEQUosRUFBWWQsU0FBU2UsdUJBQXVCLGNBQ3ZDSCxFQUFJLEVBQUdBLEVBQUlFLEVBQVVFLE9BQVFKLElBQzlCRSxFQUFVRixHQUFHTyxVQUFZTCxFQUFVRixHQUFHTyxVQUFVQyxRQUFRLFVBQVcsSUFJdkUsTUFBTUMsRUFBS1YsRUFBSVcsY0FBY0MsYUFBYSxPQUMxQ3ZCLFNBQVNDLGVBQWVvQixHQUFJSixNQUFNQyxRQUFVLFFBQzVDUCxFQUFJVyxjQUFjSCxXQUFhLFNBQ25DLENBRU8sTUFNTUssRUFBWSxLQUNyQnhCLFNBQVNDLGVBQWUsUUFBUWdCLE1BQU1DLFFBQVUsT0FDaERsQixTQUFTQyxlQUFlLFNBQVNnQixNQUFNQyxRQUFVLE9BQ2pEbEIsU0FBU0MsZUFBZSxTQUFTZ0IsTUFBTUMsUUFBVSxPQUFPLEUsK0NDMUI1RCxTQUFTTyxFQUFZQyxHQUlqQixNQUFPLENBQUV0QixNQUhHdUIsS0FBS0MsTUFBTUYsRUFBYSxNQUdickIsUUFGVHNCLEtBQUtDLE1BQU1GLEVBQWEsS0FBTyxJQUVKcEIsUUFEM0JxQixLQUFLQyxNQUFNRixFQUFhLEtBQU8sSUFFakQsQ0FFTyxTQUFTRyxHQUFRLE1BQUV6QixFQUFLLFFBQUVDLEVBQU8sUUFBRUMsSUFDdENOLFNBQVNDLGVBQWUsU0FBUzZCLE1BQVExQixFQUN6Q0osU0FBU0MsZUFBZSxXQUFXNkIsTUFBUXpCLEVBQzNDTCxTQUFTQyxlQUFlLFdBQVc2QixNQUFReEIsQ0FDL0MsQ0NqQkEsTUFBTUYsRUFBUUosU0FBU0MsZUFBZSxTQUNoQ0ksRUFBVUwsU0FBU0MsZUFBZSxXQUNsQ0ssRUFBVU4sU0FBU0MsZUFBZSxXQ0tsQzhCLEVBQVcvQixTQUFTQyxlQUFlLFlBRW5DK0IsR0FEWWhDLFNBQVNDLGVBQWUsU0FDekJELFNBQVNpQyxpQkFBaUIsaUJBRzNDQyxPQUFPQyxPQUFTLEtBQ1pILEVBQVNJLFNBQVNDLElBQ0hBLEVBQUlkLGFBQWEsT0FDNUJjLEVBQUlDLFFBQVU1QixDQUFRLElEWFosTUFFZCxJQUFLLElBQUlFLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNwQlIsRUFBTVEsR0FBSyxJQUFJMkIsT0FBTyxHQUFHM0IsSUFBS0EsR0FFbEMsSUFBSyxJQUFJQSxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDcEJQLEVBQVFPLEdBQUssSUFBSTJCLE9BQU8sR0FBRzNCLElBQUtBLEdBRXBDLElBQUssSUFBSUEsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3BCTixFQUFRTSxHQUFLLElBQUkyQixPQUFPLEdBQUczQixJQUFLQSxFQUNwQyxFQ0dBLEdBQ0FaLFNBQVN3QyxjQUFjLHdCQUF3QkMsT0FBTyxFQUcxRFYsRUFBU1csU0FBWUMsSUFDakJBLEVBQU1DLGlCQUNOLE1BQU1DLEVBQVcsSUFBSUMsU0FBU0gsRUFBTUksUUFDOUJDLEVBQVlILEVBQVNJLElBQUksYUFDekJDLEVBQWFMLEVBQVNJLElBQUksY0FFNUJELEdBQWFFLEVKakJNLEdBQUdDLFFBQU9DLFNBQVFDLFdBQ3pDdEQsRUFBT1EsVUFBWSxrQ0FDWjRDLEdBQVVBLEVBQVEsc0JBQ2RDLEdBQVdBLEVBQVMsbUJBQ3ZCQyxHQUFTQSxFQUFPLG1CQUFJLEVJY3hCQyxDTDFCUixTQUFtQkMsRUFBVUMsR0FDekIsSUFBSUMsRUFBZSxhQUFpQkYsR0FDaENHLEVBQWdCLGFBQWlCRixHQUdyQyxPQUZJQyxFQUFlQyxJQUNmQSxFQUFnQixDQUFDRCxFQUFjQSxFQUFlQyxHQUFlLElBQzFEQSxFQUFjQyxLQUFLRixFQUFjLENBQUMsUUFBUyxTQUFVLFNBQVNHLFVBQ3pFLENLb0JvQixDQUFVWixFQUFXRSxLQUVwQix1REoxQmpCbkQsRUFBT1EsVUFBWSxrS0kwQnFELEVBRzVFUCxTQUFTQyxlQUFlLFNBQVNxQyxRQUFXSyxJQUN4Q0EsRUFBTUMsaUJGZkgsU0FBaUJ4QyxFQUFPQyxFQUFTQyxHQUNwQyxJQUFJb0IsRUFBc0IsTUFBUnRCLEVBQTBCLElBQVZDLElBQWdCQyxFQUNsRCxHQUFtQixJQUFmb0IsRUFBSixDREdBMUIsU0FBU0MsZUFBZSxRQUFRZ0IsTUFBTUMsUUFBVSxRQUNoRGxCLFNBQVNDLGVBQWUsU0FBU2dCLE1BQU1DLFFBQVUsUUFDakRsQixTQUFTQyxlQUFlLFNBQVNnQixNQUFNQyxRQUFVLE9DQWpEZixFQUFXLENBQUVDLE9BQVFBLEVBQU9DLFNBQVVBLEVBQVNDLFNBQVVBLElBRXpELElBQUl1RCxFQUFXQyxhQUFZLGFBRXJCcEMsRUFDRnZCLEVBQVdzQixFQUFZQyxJQUNKLElBQWZBLElBQ0FxQyxjQUFjRixHQUNGLElBQUksRUFBQUcsS0FBSyxDQUNqQkMsSUFBSyxDQUFDLEtBRUpDLE9BQ04xRCxFQUFZLGdCQUNaZ0IsSUFHUixHQUFHLEtBRUh4QixTQUFTQyxlQUFlLFFBQVFxQyxRQUFXSyxJQUN2Q0EsRUFBTUMsaUJBQ0ZpQixHQUFVRSxjQUFjRixHQUM1QmhDLEVBQVFKLEVBQVlDLElBQ3BCRixHQUFXLEVBR2Z4QixTQUFTQyxlQUFlLFNBQVNxQyxRQUFXSyxJQUN4Q0EsRUFBTUMsaUJBQ0ZpQixHQUFVRSxjQUFjRixHQUM1Qm5DLEVBQWEsRUFDYkcsRUFBUSxDQUFFekIsTUFBTyxFQUFHQyxRQUFTLEVBQUdDLFFBQVMsSUFDekNFLEVBQVksSUFDWmdCLEdBQVcsQ0FqQ2YsTUFGSWhCLEVBQVkscURBcUNwQixDRXJCSSxDQUhZUixTQUFTQyxlQUFlLFNBQVM2QixNQUMvQjlCLFNBQVNDLGVBQWUsV0FBVzZCLE1BQ25DOUIsU0FBU0MsZUFBZSxXQUFXNkIsT0FFakRELEVBQVEsQ0FBRXpCLE1BQU8sRUFBR0MsUUFBUyxFQUFHQyxRQUFTLEdBQUcsQyxHQ3ZDNUM2RCxFQUEyQixDQUFDLEVBR2hDLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLENBQUMsR0FPWCxPQUhBRSxFQUFvQkwsR0FBVUksRUFBUUEsRUFBT0QsUUFBU0osR0FHL0NLLEVBQU9ELE9BQ2YsQ0FHQUosRUFBb0JPLEVBQUlELEVQekJwQjVFLEVBQVcsR0FDZnNFLEVBQW9CUSxFQUFJLENBQUM3RSxFQUFROEUsRUFBVUMsRUFBSUMsS0FDOUMsSUFBR0YsRUFBSCxDQU1BLElBQUlHLEVBQWVDLElBQ25CLElBQVNyRSxFQUFJLEVBQUdBLEVBQUlkLEVBQVNrQixPQUFRSixJQUFLLENBR3pDLElBRkEsSUFBS2lFLEVBQVVDLEVBQUlDLEdBQVlqRixFQUFTYyxHQUNwQ3NFLEdBQVksRUFDUEMsRUFBSSxFQUFHQSxFQUFJTixFQUFTN0QsT0FBUW1FLE1BQ3BCLEVBQVhKLEdBQXNCQyxHQUFnQkQsSUFBYUssT0FBT0MsS0FBS2pCLEVBQW9CUSxHQUFHVSxPQUFPQyxHQUFTbkIsRUFBb0JRLEVBQUVXLEdBQUtWLEVBQVNNLE1BQzlJTixFQUFTVyxPQUFPTCxJQUFLLElBRXJCRCxHQUFZLEVBQ1RILEVBQVdDLElBQWNBLEVBQWVELElBRzdDLEdBQUdHLEVBQVcsQ0FDYnBGLEVBQVMwRixPQUFPNUUsSUFBSyxHQUNyQixJQUFJNkUsRUFBSVgsU0FDRVAsSUFBTmtCLElBQWlCMUYsRUFBUzBGLEVBQy9CLENBQ0QsQ0FDQSxPQUFPMUYsQ0FuQlAsQ0FKQ2dGLEVBQVdBLEdBQVksRUFDdkIsSUFBSSxJQUFJbkUsRUFBSWQsRUFBU2tCLE9BQVFKLEVBQUksR0FBS2QsRUFBU2MsRUFBSSxHQUFHLEdBQUttRSxFQUFVbkUsSUFBS2QsRUFBU2MsR0FBS2QsRUFBU2MsRUFBSSxHQUNyR2QsRUFBU2MsR0FBSyxDQUFDaUUsRUFBVUMsRUFBSUMsRUFxQmpCLEVRekJkWCxFQUFvQnNCLEVBQUksQ0FBQ2xCLEVBQVNtQixLQUNqQyxJQUFJLElBQUlKLEtBQU9JLEVBQ1h2QixFQUFvQndCLEVBQUVELEVBQVlKLEtBQVNuQixFQUFvQndCLEVBQUVwQixFQUFTZSxJQUM1RUgsT0FBT1MsZUFBZXJCLEVBQVNlLEVBQUssQ0FBRU8sWUFBWSxFQUFNN0MsSUFBSzBDLEVBQVdKLElBRTFFLEVDTkRuQixFQUFvQjJCLEVBQUksV0FDdkIsR0FBMEIsaUJBQWZDLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT0MsTUFBUSxJQUFJQyxTQUFTLGNBQWIsRUFDaEIsQ0FBRSxNQUFPQyxHQUNSLEdBQXNCLGlCQUFYakUsT0FBcUIsT0FBT0EsTUFDeEMsQ0FDQSxDQVB1QixHQ0F4QmtDLEVBQW9Cd0IsRUFBSSxDQUFDUSxFQUFLQyxJQUFVakIsT0FBT2tCLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEdDQWxGakMsRUFBb0JxQyxFQUFJLEcsTUNLeEIsSUFBSUMsRUFBa0IsQ0FDckIsSUFBSyxHQWFOdEMsRUFBb0JRLEVBQUVPLEVBQUt3QixHQUEwQyxJQUE3QkQsRUFBZ0JDLEdBR3hELElBQUlDLEVBQXVCLENBQUNDLEVBQTRCQyxLQUN2RCxJQUdJekMsRUFBVXNDLEdBSFQ5QixFQUFVa0MsRUFBYUMsR0FBV0YsRUFHaEJsRyxFQUFJLEVBQzNCLEdBQUdpRSxFQUFTb0MsTUFBTTVGLEdBQWdDLElBQXhCcUYsRUFBZ0JyRixLQUFhLENBQ3RELElBQUlnRCxLQUFZMEMsRUFDWjNDLEVBQW9Cd0IsRUFBRW1CLEVBQWExQyxLQUNyQ0QsRUFBb0JPLEVBQUVOLEdBQVkwQyxFQUFZMUMsSUFHaEQsR0FBRzJDLEVBQVMsSUFBSWpILEVBQVNpSCxFQUFRNUMsRUFDbEMsQ0FFQSxJQURHeUMsR0FBNEJBLEVBQTJCQyxHQUNyRGxHLEVBQUlpRSxFQUFTN0QsT0FBUUosSUFDekIrRixFQUFVOUIsRUFBU2pFLEdBQ2hCd0QsRUFBb0J3QixFQUFFYyxFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBT3ZDLEVBQW9CUSxFQUFFN0UsRUFBTyxFQUdqQ21ILEVBQXFCQyxLQUE2Qix1QkFBSUEsS0FBNkIsd0JBQUssR0FDNUZELEVBQW1COUUsUUFBUXdFLEVBQXFCUSxLQUFLLEtBQU0sSUFDM0RGLEVBQW1CRyxLQUFPVCxFQUFxQlEsS0FBSyxLQUFNRixFQUFtQkcsS0FBS0QsS0FBS0YsRyxLQzdDdkYsSUFBSUksRUFBc0JsRCxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksTUFBTSxJQUFPSCxFQUFvQixPQUM3R2tELEVBQXNCbEQsRUFBb0JRLEVBQUUwQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicHJvamVjdC93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL3dlYnByb2plY3QvLi9qcy9kYXRlY2FsYy5qcyIsIndlYnBhY2s6Ly93ZWJwcm9qZWN0Ly4vanMvcHJpbnQuanMiLCJ3ZWJwYWNrOi8vd2VicHJvamVjdC8uL2pzL3N3aXRjaC5qcyIsIndlYnBhY2s6Ly93ZWJwcm9qZWN0Ly4vanMvdGltZXIuanMiLCJ3ZWJwYWNrOi8vd2VicHJvamVjdC8uL2pzL3JlbmRlcmluZ1RpbWVyLmpzIiwid2VicGFjazovL3dlYnByb2plY3QvLi9qcy9tYWluLmpzIiwid2VicGFjazovL3dlYnByb2plY3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VicHJvamVjdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd2VicHJvamVjdC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3dlYnByb2plY3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWJwcm9qZWN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYnByb2plY3Qvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vd2VicHJvamVjdC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiaW1wb3J0IHsgRGF0ZVRpbWUgfSBmcm9tIFwibHV4b25cIjtcblxuXG5mdW5jdGlvbiBkaWZmRGF0ZXMoZGF0ZUZyb20sIGRhdGVUbykge1xuICAgIGxldCBmaXJzdERhdGVPYmogPSBEYXRlVGltZS5mcm9tSVNPKGRhdGVGcm9tKTtcbiAgICBsZXQgc2Vjb25kRGF0ZU9iaiA9IERhdGVUaW1lLmZyb21JU08oZGF0ZVRvKTtcbiAgICBpZiAoZmlyc3REYXRlT2JqID4gc2Vjb25kRGF0ZU9iailcbiAgICAgICAgc2Vjb25kRGF0ZU9iaiA9IFtmaXJzdERhdGVPYmosIGZpcnN0RGF0ZU9iaiA9IHNlY29uZERhdGVPYmpdWzBdOyAvLyAyXG4gICAgcmV0dXJuIHNlY29uZERhdGVPYmouZGlmZihmaXJzdERhdGVPYmosIFsneWVhcnMnLCAnbW9udGhzJywgJ2RheXMnXSkudG9PYmplY3QoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGlmZkRhdGVzOyIsImNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZWNhbGNfX3Jlc3VsdFwiKTtcbmNvbnN0IGNvdW50ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVtbycpO1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RXJyb3IgPSAodGV4dEVycikgPT4ge1xuXG4gICAgcmVzdWx0LmlubmVySFRNTCA9IGA8c3BhbiBzdHlsZT1cImNvbG9yOiByZWQ7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3RleHRFcnJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIGA7XG59XG5cbmV4cG9ydCBjb25zdCBwcmludFJlc3VsdCA9ICh7IHllYXJzLCBtb250aHMsIGRheXMgfSkgPT4ge1xuICAgIHJlc3VsdC5pbm5lckhUTUwgPSBgPHNwYW4+INCe0YHRgtCw0LvQvtGB0Yw6PGJyPlxuICAgINCb0LXRgjogJHt5ZWFycyA/ICsgeWVhcnMgOiAnMCAnfVxuICAgINCc0LXRgdGP0YbQtdCyOiAke21vbnRocyA/ICsgbW9udGhzIDogJzAgJ31cbiAgICDQlNC90LXQuTogJHtkYXlzID8gKyBkYXlzIDogJzAgJ31cbiAgICA8L3NwYW4+YFxufVxuXG5leHBvcnQgY29uc3QgcHJpbnRDb3VudCA9ICh7IGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzIH0pID0+IHtcbiAgICBjb3VudGVyLmlubmVySFRNTCA9IGA8c3Bhbj4gXG4gICAgICR7aG91cnMgPCAxMCA/ICcwJyArIGhvdXJzIDogaG91cnN9IDogJHttaW51dGVzIDwgMTAgPyAnMCcgKyBtaW51dGVzIDogbWludXRlc30gOiAke3NlY29uZHMgPCAxMCA/ICcwJyArIHNlY29uZHMgOiBzZWNvbmRzfVxuICAgICA8L3NwYW4+YFxufVxuXG5leHBvcnQgY29uc3QgcHJpbnRGaW5pc2ggPSAodGV4dCkgPT4ge1xuICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGV4dDtcbn1cblxuIiwiXG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuRm9ybShldnQpIHtcbiAgICAvLyBEZWNsYXJlIGFsbCB2YXJpYWJsZXNcbiAgICB2YXIgaSwgbWVudUNvbnRlbnQsIG1lbnVMaW5rcztcblxuICAgIC8vIEdldCBhbGwgZWxlbWVudHMgd2l0aCBjbGFzcz1cInRhYmNvbnRlbnRcIiBhbmQgaGlkZSB0aGVtXG4gICAgbWVudUNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWVudV9jb250ZW50XCIpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBtZW51Q29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICBtZW51Q29udGVudFtpXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCBlbGVtZW50cyB3aXRoIGNsYXNzPVwidGFibGlua3NcIiBhbmQgcmVtb3ZlIHRoZSBjbGFzcyBcImFjdGl2ZVwiXG4gICAgbWVudUxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1lbnVfbGlua3NcIik7XG4gICAgZm9yIChpID0gMDsgaSA8IG1lbnVMaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtZW51TGlua3NbaV0uY2xhc3NOYW1lID0gbWVudUxpbmtzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKFwiIGFjdGl2ZVwiLCBcIlwiKTtcbiAgICB9XG5cbiAgICAvLyBTaG93IHRoZSBjdXJyZW50IHRhYiwgYW5kIGFkZCBhbiBcImFjdGl2ZVwiIGNsYXNzIHRvIHRoZSBidXR0b24gdGhhdCBvcGVuZWQgdGhlIHRhYlxuICAgIGNvbnN0IGlkID0gZXZ0LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdmb3InKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBldnQuY3VycmVudFRhcmdldC5jbGFzc05hbWUgKz0gXCIgYWN0aXZlXCI7XG59XG5cbmV4cG9ydCBjb25zdCBzd2l0Y2hPbiA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59XG5cbmV4cG9ydCBjb25zdCBzd2l0Y2hPZmYgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3AnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59XG5cbiIsIlxuaW1wb3J0IHsgcHJpbnRDb3VudCwgcHJpbnRGaW5pc2ggfSBmcm9tICcuL3ByaW50LmpzJztcbmltcG9ydCB7IEhvd2wgfSBmcm9tICdob3dsZXInO1xuaW1wb3J0IHsgc3dpdGNoT2ZmLCBzd2l0Y2hPbiB9IGZyb20gJy4vc3dpdGNoLmpzJztcbmltcG9ydCBNdXNpYyBmcm9tICcuLi9tZWRpYS9lcmFsYXNoLm1wMyc7XG5cblxuZnVuY3Rpb24gZ2V0QmFja1RpbWUoYWxsU2Vjb25kcykge1xuICAgIGxldCBob3VycyA9IE1hdGguZmxvb3IoYWxsU2Vjb25kcyAvIDM2MDApO1xuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcihhbGxTZWNvbmRzICUgMzYwMCAvIDYwKTtcbiAgICBsZXQgc2Vjb25kcyA9IE1hdGguZmxvb3IoYWxsU2Vjb25kcyAlIDM2MDAgJSA2MCk7XG4gICAgcmV0dXJuIHsgaG91cnM6IGhvdXJzLCBtaW51dGVzOiBtaW51dGVzLCBzZWNvbmRzOiBzZWNvbmRzIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRpbWUoeyBob3VycywgbWludXRlcywgc2Vjb25kcyB9KSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvdXJzJykudmFsdWUgPSBob3VycztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludXRlcycpLnZhbHVlID0gbWludXRlcztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vjb25kcycpLnZhbHVlID0gc2Vjb25kcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50ZXIoaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMpIHtcbiAgICBsZXQgYWxsU2Vjb25kcyA9ICtob3VycyAqIDM2MDAgKyArbWludXRlcyAqIDYwICsgK3NlY29uZHM7XG4gICAgaWYgKGFsbFNlY29uZHMgPT09IDApIHtcbiAgICAgICAgcHJpbnRGaW5pc2goJzxzcGFuIHN0eWxlPVwiY29sb3I6IHJlZDtcIj7Qo9GB0YLQsNC90L7QstC40YLQtSDQstGA0LXQvNGPITwvc3Bhbj4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2hPbigpO1xuICAgIHByaW50Q291bnQoeyBob3VyczogK2hvdXJzLCBtaW51dGVzOiArbWludXRlcywgc2Vjb25kczogK3NlY29uZHMgfSk7XG5cbiAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLS1hbGxTZWNvbmRzO1xuICAgICAgICBwcmludENvdW50KGdldEJhY2tUaW1lKGFsbFNlY29uZHMpKTtcbiAgICAgICAgaWYgKGFsbFNlY29uZHMgPT09IDApIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgbGV0IHNvdW5kID0gbmV3IEhvd2woe1xuICAgICAgICAgICAgICAgIHNyYzogW011c2ljXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICBwcmludEZpbmlzaCgn0JLRgNC10LzRjyDQstGL0YjQu9C+IScpO1xuICAgICAgICAgICAgc3dpdGNoT2ZmKCk7XG4gICAgICAgIH1cblxuICAgIH0sIDEwMDApO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3AnKS5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChpbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIHNldFRpbWUoZ2V0QmFja1RpbWUoYWxsU2Vjb25kcykpO1xuICAgICAgICBzd2l0Y2hPZmYoKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQnKS5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChpbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIGFsbFNlY29uZHMgPSAwO1xuICAgICAgICBzZXRUaW1lKHsgaG91cnM6IDAsIG1pbnV0ZXM6IDAsIHNlY29uZHM6IDAgfSlcbiAgICAgICAgcHJpbnRGaW5pc2goJycpO1xuICAgICAgICBzd2l0Y2hPZmYoKTtcbiAgICB9XG59XG5cbiIsIlxuY29uc3QgaG91cnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG91cnMnKTtcbmNvbnN0IG1pbnV0ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWludXRlcycpO1xuY29uc3Qgc2Vjb25kcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWNvbmRzJyk7XG5cbmNvbnN0IHJlbmRlcmluZyA9ICgpID0+IHtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICBob3Vyc1tpXSA9IG5ldyBPcHRpb24oYCR7aX1gLCBpKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgaSsrKSB7XG4gICAgICAgIG1pbnV0ZXNbaV0gPSBuZXcgT3B0aW9uKGAke2l9YCwgaSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjA7IGkrKykge1xuICAgICAgICBzZWNvbmRzW2ldID0gbmV3IE9wdGlvbihgJHtpfWAsIGkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVuZGVyaW5nOyIsImltcG9ydCBkaWZmRGF0ZXMgZnJvbSBcIi4vZGF0ZWNhbGMuanNcIjtcbmltcG9ydCB7IGZvcm1hdEVycm9yLCBwcmludFJlc3VsdCwgcHJpbnRGaW5pc2ggfSBmcm9tIFwiLi9wcmludC5qc1wiO1xuaW1wb3J0IHsgb3BlbkZvcm0sIHN3aXRjaE9uIH0gZnJvbSAnLi9zd2l0Y2guanMnO1xuaW1wb3J0IHsgY291bnRlciwgc2V0VGltZSB9IGZyb20gXCIuL3RpbWVyLmpzXCI7XG5pbXBvcnQgcmVuZGVyaW5nIGZyb20gXCIuL3JlbmRlcmluZ1RpbWVyLmpzXCI7XG5cblxuXG5jb25zdCBmb3JtQ2FsYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZWNhbGNcIik7XG5jb25zdCBmb3JtVGltZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZXInKTtcbmNvbnN0IGJ0bnNNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI21lbnUgYnV0dG9uJyk7XG5cblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBidG5zTWVudS5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBidG4uZ2V0QXR0cmlidXRlKCdmb3InKTtcbiAgICAgICAgYnRuLm9uY2xpY2sgPSBvcGVuRm9ybTtcbiAgICB9KVxuICAgIHJlbmRlcmluZygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltmb3I9ZGF0ZWNhbGNdJykuY2xpY2soKTtcbn1cblxuZm9ybUNhbGMub25zdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGV2ZW50LnRhcmdldCk7XG4gICAgY29uc3QgZmlyc3REYXRlID0gZm9ybURhdGEuZ2V0KCdmaXJzdERhdGUnKTtcbiAgICBjb25zdCBzZWNvbmREYXRlID0gZm9ybURhdGEuZ2V0KCdzZWNvbmREYXRlJyk7XG5cbiAgICBpZiAoZmlyc3REYXRlICYmIHNlY29uZERhdGUpIHtcbiAgICAgICAgcHJpbnRSZXN1bHQoZGlmZkRhdGVzKGZpcnN0RGF0ZSwgc2Vjb25kRGF0ZSkpO1xuICAgIH1cbiAgICBlbHNlIGZvcm1hdEVycm9yKFwi0JTQu9GPINGA0LDRgdGH0LXRgtCwINC/0YDQvtC80LXQttGD0YLQutCwINC90LXQvtCx0YXQvtC00LjQvNC+INC30LDQv9C+0LvQvdC40YLRjCDQvtCx0LAg0L/QvtC70Y9cIik7XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCBob3VycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob3VycycpLnZhbHVlO1xuICAgIGxldCBtaW51dGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbnV0ZXMnKS52YWx1ZTtcbiAgICBsZXQgc2Vjb25kcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWNvbmRzJykudmFsdWU7XG4gICAgY291bnRlcihob3VycywgbWludXRlcywgc2Vjb25kcyk7XG4gICAgc2V0VGltZSh7IGhvdXJzOiAwLCBtaW51dGVzOiAwLCBzZWNvbmRzOiAwIH0pXG59XG5cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmt3ZWJwcm9qZWN0XCJdID0gc2VsZltcIndlYnBhY2tDaHVua3dlYnByb2plY3RcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs3NjYsNzg2LDM2MiwxNjUsMzcwXSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNTIxKSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwicmVzdWx0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvdW50ZXIiLCJwcmludENvdW50IiwiaG91cnMiLCJtaW51dGVzIiwic2Vjb25kcyIsImlubmVySFRNTCIsInByaW50RmluaXNoIiwidGV4dCIsIm9wZW5Gb3JtIiwiZXZ0IiwiaSIsIm1lbnVDb250ZW50IiwibWVudUxpbmtzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImxlbmd0aCIsInN0eWxlIiwiZGlzcGxheSIsImNsYXNzTmFtZSIsInJlcGxhY2UiLCJpZCIsImN1cnJlbnRUYXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJzd2l0Y2hPZmYiLCJnZXRCYWNrVGltZSIsImFsbFNlY29uZHMiLCJNYXRoIiwiZmxvb3IiLCJzZXRUaW1lIiwidmFsdWUiLCJmb3JtQ2FsYyIsImJ0bnNNZW51IiwicXVlcnlTZWxlY3RvckFsbCIsIndpbmRvdyIsIm9ubG9hZCIsImZvckVhY2giLCJidG4iLCJvbmNsaWNrIiwiT3B0aW9uIiwicXVlcnlTZWxlY3RvciIsImNsaWNrIiwib25zdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRhcmdldCIsImZpcnN0RGF0ZSIsImdldCIsInNlY29uZERhdGUiLCJ5ZWFycyIsIm1vbnRocyIsImRheXMiLCJwcmludFJlc3VsdCIsImRhdGVGcm9tIiwiZGF0ZVRvIiwiZmlyc3REYXRlT2JqIiwic2Vjb25kRGF0ZU9iaiIsImRpZmYiLCJ0b09iamVjdCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiSG93bCIsInNyYyIsInBsYXkiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJPIiwiY2h1bmtJZHMiLCJmbiIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJqIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5Iiwia2V5Iiwic3BsaWNlIiwiciIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtJZCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJkYXRhIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsInNlbGYiLCJiaW5kIiwicHVzaCIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9